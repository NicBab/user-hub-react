{"version":3,"sources":["components/Header.js","auth/index.js","components/UserPosts.js","components/UserTodos.js","api/index.js","index.js"],"names":["Header","currentUser","setCurrentUser","userList","useState","selectedUser","setSelectedUser","useEffect","className","onSubmit","event","preventDefault","to","activeClassName","onClick","localStorage","removeItem","username","onChange","id","target","value","user","find","map","setItem","JSON","stringify","UserPosts","userPosts","title","body","UserTodos","userTodos","completed","style","textDecoration","BASE","a","axios","get","data","userId","App","setUserList","parse","getItem","setUserPosts","setUserTodos","getUsers","then","users","catch","error","getPostsByUser","posts","getTodosByUser","todos","path","exact","padding","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0a89ceb1.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport {\n  storeCurrentUser,\n  clearCurrentUser\n} from '../auth';\n\nimport './Header.css';\n\nconst Header = ({\n  currentUser,\n  setCurrentUser,\n  userList \n}) => {\n  const [selectedUser, setSelectedUser] = useState();\n\n  useEffect(() => {\n    setSelectedUser(userList[0]);\n  }, [ userList ]);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n  }\n\n  const handleSelectChange = (event) => {\n    const id = event.target.value;\n    const user = userList.find(user => user.id == id);\n    setSelectedUser(user);\n  }\n\n  const handleUserLogin = (event) => {\n    storeCurrentUser(selectedUser); \n    setCurrentUser(selectedUser);\n  }\n\n  const handleUserLogout = (event) => {\n    setSelectedUser(userList[0]);\n    clearCurrentUser(); // NEW\n    setCurrentUser(null);\n  }\n\n  return (\n    <header>\n      <h1>Welcome to UserHub</h1>\n      <form \n        className=\"user-select\" \n        onSubmit={ handleSubmit } >\n        {\n          currentUser\n          ? <> \n              <NavLink to=\"/posts\" activeClassName=\"current\">POSTS</NavLink>\n              <NavLink to=\"/todos\" activeClassName=\"current\">TODOS</NavLink >\n              <button onClick={ handleUserLogout }>LOG OUT, { currentUser.username }</button>\n            </>\n          : <>\n              <select onChange={ handleSelectChange }>{\n                userList.map(user => (\n                  <option key={ user.id } value={ user.id }>\n                    { user.username }\n                  </option>\n                ))\n              }</select>\n              <button onClick={ handleUserLogin }>LOG IN</button>\n            </>\n        }\n      </form>\n    </header>\n  );\n}\n\nexport default Header;\n","export function storeCurrentUser(user) {\n    localStorage.setItem('currentUser', JSON.stringify(user))\n};\n\nexport function getCurrentUser() {\n    const user = JSON.parse(localStorage.getItem('currentUser'));\n    return user;\n};\n\nexport function clearCurrentUser() {\n    localStorage.removeItem('currentUser');\n};","import React from 'react';\nimport './UserPosts.css';\n\nconst UserPosts = ({\n    currentUser, \n    userPosts\n}) => {\n    return (\n        <div className=\"user-posts\">\n            <h2>Posts By {currentUser.username}</h2>\n            {userPosts.map(({id, title, body}) => (\n                <div key={id} className=\"posts\">\n                    <h3>{title}</h3>\n                    <p>{body}</p>\n                </div>\n            ))}\n        </div>\n    );\n}\n\nexport default UserPosts;","import React from \"react\";\nimport \"./UserTodos.css\";\n\nconst UserTodos = ({ currentUser, userTodos }) => {\n  return (\n    <div className=\"user-todos\">\n      <h2>Todos BY {currentUser.username}</h2>\n      {userTodos.map(({ id, title, completed }) => (\n        <div key={id} className=\"todo\">\n          <h3 style={{ textDecoration: completed ? \"line-through\" : \"none\" }}>\n            {title}\n          </h3>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default UserTodos;\n","import axios from 'axios';\nconst BASE = 'https://jsonplace-univclone.herokuapp.com';\n\nexport async function getUsers() {\n    try {\n        const {data} = await axios.get(`${BASE}/users`);\n        return data;\n    } catch (error) {\n      throw error\n    }\n};\n\nexport async function getPostsByUser(userId) {\n    try {\n        const {data} = await axios.get(`${BASE}/users/${userId}/posts`);\n        return data;\n    } catch (error) {\n      throw error  \n    }\n};\n\nexport async function getTodosByUser(userId) {\n    try {\n        const {data} = await axios.get(`${BASE}/users/${userId}/todos`);\n        return data\n    } catch (error) {\n      throw error  \n    }\n};\n\n","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  Redirect\n} from 'react-router-dom';\n\nimport {\n  Header,\n  UserPosts,\n  UserTodos\n} from './components';\n\nimport {\n  getUsers,\n  getPostsByUser,\n  getTodosByUser\n} from './api';\n\nimport {\n  getCurrentUser\n} from './auth';\n\nconst App = () => {\n  const [userList, setUserList] = useState([]);\n  const [currentUser, setCurrentUser] = useState(getCurrentUser());\n  const [userPosts, setUserPosts] = useState([]);\n  const [userTodos, setUserTodos] = useState([]);\n\n  useEffect(() => {\n    getUsers()\n      .then(users => {\n        setUserList(users)\n      })\n      .catch(error => {\n        throw error\n      });\n  }, []);\n\n  useEffect(() => {\n    if (!currentUser) {\n      setUserPosts([]);\n      setUserTodos([]);\n      return;\n    }\n\n    getPostsByUser(currentUser.id)\n      .then(posts => {\n        setUserPosts(posts);\n      })\n      .catch(error => {\n        throw error\n      });\n\n    getTodosByUser(currentUser.id)\n      .then(todos => {\n        setUserTodos(todos);\n      })\n      .catch(error => {\n        throw error\n      });\n  }, [currentUser]);\n\n  return (\n    <Router>\n      <div id=\"App\">\n        <Header\n          userList={ userList }\n          currentUser={ currentUser }\n          setCurrentUser={ setCurrentUser } />\n        {\n          currentUser\n          ? <>\n              <Switch>\n                <Route path=\"/posts\">\n                  <UserPosts\n                    userPosts={ userPosts }\n                    currentUser={ currentUser } />\n                </Route>\n                <Route path=\"/todos\">\n                  <UserTodos\n                    userTodos={ userTodos }\n                    currentUser={ currentUser } />\n                </Route>\n                <Route exact path=\"/\">\n                  <h2 style={{\n                    padding: \".5em\"\n                  }}>Welcome, { currentUser.username }!</h2>\n                </Route>\n                <Redirect to=\"/\" />\n              </Switch>\n            </>\n          : <>\n              <Switch>\n                <Route exact path=\"/\">\n                  <h2 style={{\n                    padding: \".5em\"\n                  }}>Please log in, above.</h2>\n                </Route>\n                <Redirect to=\"/\" />\n              </Switch>\n            </>\n        }\n      </div>\n    </Router>\n  );\n}\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}